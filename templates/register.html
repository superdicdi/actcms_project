{% extends "user.html" %}
{% block content %}
    <form method="post">
        {% for msg in get_flashed_messages(category_filter=['err']) %}
            <p style="color:red">{{ msg }}</p>
        {% endfor %}
        <div class="form-group">
            <label>账号</label>
{#            <input type="text" class="form-control" placeholder="请输入账号">#}
            {{ form.name }}
            {% for error in form.name.errors %}
                <p style="color: red">{{ error }}</p>
            {% endfor %}
        </div>
         <div class="form-group">
            <label>密码</label>
{#            <input type="password" class="form-control" placeholder="请输入密码">#}
             {{ form.password }}
             {% for error in form.password.errors %}
                <p style="color: red">{{ error }}</p>
            {% endfor %}
        </div>
        <div class="form-group">
            <label>确认密码</label>
{#            <input type="password" class="form-control" placeholder="请输入确认密码">#}
            {{ form.repassword }}
            {% for error in form.repassword.errors %}
                <p style="color: red">{{ error }}</p>
            {% endfor %}
        </div>
        <div class="form-group">
            <label>验证码</label>
{#            <input type="password" class="form-control" placeholder="请输入验证码">#}
            {{ form.code }}
{#            <img data-src="holder.js/180×50" style="margin-top: 6px;">#}
            <img title="点击切换" onclick="this.src='/codes/?' + Math.random()" src="/codes/" style="width: 180px; height: 40px; margin-top: 6px">
            {% for error in form.code.errors %}
                <p style="color: red">{{ error }}</p>
            {% endfor %}
        </div>
        <a href="/login/">已有账号，前往登录</a><br>
{#        <a class="btn btn-success" href="/login/">注册</a>#}
        {{ form.submit }}
        {{ form.csrf_token }}
    </form>
{% endblock %}
{% block js %}
    <script src="https://cdn.bootcss.com/holder/2.9.4/holder.js"></script>
{% endblock %}